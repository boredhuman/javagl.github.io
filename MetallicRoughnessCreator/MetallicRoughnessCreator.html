<!DOCTYPE html>
<html>
  <head>
    <title>Metallic-Roughness-Creator</title>
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
    <meta name="description" content="Online tool for combining metallic and roughness textures" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script type="text/javascript" src="scripts/MetallicRoughnessCreator.js"></script>
  </head>
  <body>

    <p>
    <table width="100%">
        <tr>
          <td width="50%">
            <div id="metallicDropArea">
              Drop metallic file here<br>
              <img id="metallicImage" width="200px"></img><br>
              <div id="metallicImageInfo"></div>
            </div>
          </td>
          <td>
            <div id="roughnessDropArea">
              Drop roughness file here<br>
              <img id="roughnessImage" width="200px"></img><br>
              <div id="roughnessImageInfo"></div>
            </div>
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <div id="outputArea">
              <b>Result</b><br>
              <input type="checkbox" name="flipVerticallyCheckBox" id="flipVerticallyCheckBox">Flip vertically</input><br>
              <form name="typeForm" id="typeForm">
                <input type="radio" name="type" value="wert1">PNG</input>
                <input type="radio" name="type" value="wert1" checked>JPG (90%)</input>
                <input type="radio" name="type" value="wert1">JPG (70%)</input>
              </form>
              <button onclick="updateOutput()">Compute / update</button><br>
              <img id="outputImage" width="200px"></img><br>
              <div id="outputImageInfo"></div><br>
              <div>(Right-click and select "Save image as...")</div><br>
            </div>
          </td>
        </tr>
    </table>

    <script>
      document.getElementById('flipVerticallyCheckBox').checked = false;

      var metallicDropArea = document.getElementById('metallicDropArea');
      metallicDropArea.addEventListener('dragover', handleDragOver, false);
      var metallicHandler = function(e) {
        var metallicImage = document.getElementById('metallicImage');
        var metallicImageInfo = document.getElementById('metallicImageInfo');
        handleFileSelect(e, 0, metallicImage, metallicImageInfo);
      };
      metallicDropArea.addEventListener('drop', metallicHandler, false);

      var roughnessDropArea = document.getElementById('roughnessDropArea');
      roughnessDropArea.addEventListener('dragover', handleDragOver, false);
      var roughnessHandler = function(e) {
        var roughnessImage = document.getElementById('roughnessImage');
        var roughnessImageInfo = document.getElementById('roughnessImageInfo');
        handleFileSelect(e, 1, roughnessImage, roughnessImageInfo);
      };
      roughnessDropArea.addEventListener('drop', roughnessHandler, false);
    </script>


    <a href="https://github.com/javagl/javagl.github.io"><img id="forkMeBanner" src="images/ForkMeOrDont.png" alt="Fork me on GitHub"></a>
  </body>
</html>

